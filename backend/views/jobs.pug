extends base

include mixins/_table
include mixins/_pagination
include mixins/_filtersAll

  block extraCSS
   link(rel='stylesheet' href='/css/jobs/jobs.css')

block content
  section.section.section-body
    // FILTERS
    .filters
      .filters__header
        h1.header JOBS
      .filters__container
        .filters__filters
          +filtersAll([
              {name: 'Rarity', options: ['All', 1,2,3,4,5]},
              {name: 'Element', options: ['All', 'Fire', 'Water', 'Earth', 'Wind', 'Thunder', 'Light', 'Dark']},
              {name: 'Attribute', options: ['All', 'HP', 'Strength', 'Agility', 'Intelligence']},
              {name: 'Type', options: ['All', 'Damage', 'Heal', 'Buff', 'Action Buff', "Debuff", 
                                      "Vulnerable", "Protect", "Remove Debuff", "Negative", "Other"]},
              {name: 'Apply', options: ['All', 1,2,3,4,5]},
              {name: 'Passive', options: ['All', 1,2,3,4,5]},
              {name: 'Search in', options: ['Both', 'Passive', 'Switch']}
            ])
          .filters__buttons-filters
            button.reset-filters(type='button') Reset
            button.search-filters(type='button') Search...
        .filters__gerneral-options
          .filter.filters__input
            label Choose lvl
            input.choose-level(style="width: 50px", type="number", min=1, step=10 value=1)
          .filter.filters.filters--jobmania-crystal
            +select('Jobmania crystal', [0, 1, 2, 3, 4, 5])
          .filter.filters__buttons-gen-options
            button(type='button') Apply
            button(type='button') Reset
          .filter.filters__input--search
            label Search
            input.choose-level(style="width: 150px", type="text", placeholder="Search...")
          .filter.filters__pagination
            +pagination(jobs.length-1)


    // TABLE
    table.table.table__main-table
      +table('jobs', 'id', 'Icon', 'Name', 'Rarity', 'Passive', 'Switch', 'Deck', 'HP', 'Str', 'Agi', 'Int')
      tbody.shadow
        each job, i in jobs
          - if (i < 10)
            tr
              td.index= job['0']
              td.icon= '#'
              td.job= job.job
              td.rarity
                each star, i in [1, 2, 3, 4, 5]
                  if star <= job.rarity
                    img.star(src="../../../img/events/starColor1.png", alt="star", width=25)
                    
              td.passive-kill= job.passive_skill 
              td.switch-skill= job.switch_skill
              td.deck 
                - if (job.abilities_5)
                  span= `${job.abilities_5} x5`
                  br
                - if (job.abilities_3)  
                  span= `${job.abilities_3} x3`
                  br
                - if (job.abilities_2) 
                  span= `${job.abilities_2} x2` 
                  br
                - if (job.abilities_1)
                  span= `${job.abilities_1} x1` 
                  br
              td.hp= job.hp
              td.str= job.strength
              td.agi= job.agility
              td.int= job.intelligence

  script(type="module", src='/js/jobs.js')
  script(type="module", src='/js/pagination.js')